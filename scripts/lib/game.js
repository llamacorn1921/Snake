define(["./lib/snake","./lib/apple","./lib/audio"],function(t,n,i){let o;let s;let e;let c=false;let l=true;let a=1;let d={};let u={};function r(){s.clearRect(0,0,o.width,o.height)}function p(){let e=t.draw();d.pos.x=e.x;d.pos.y=e.y;h();n.draw()}function f(){if(l){r();p()}window.requestAnimationFrame(f)}function m(){if(l){l=false;document.getElementById("pause").innerHTML="Resume"}else{l=true;document.getElementById("pause").innerHTML="Pause"}}document.getElementById("reset").addEventListener("click",()=>{t.reset();e=n.destroy();u.pos=e.pos;c=e.eaten;a=1;document.getElementById("score").innerHTML=0});document.getElementById("pause").addEventListener("click",()=>{m()});function h(){if(u.pos.x<d.pos.x+d.width&&u.pos.x+u.width>d.pos.x&&u.pos.y<d.pos.y+d.height&&u.pos.y+u.height>d.pos.y){if(c===false){c=true}i.play();e=n.destroy();u.pos=e.pos;c=e.eaten;document.getElementById("score").innerHTML=a++}}return{init:function(e){i.init();s=e.ctx;o={canvas:e.canvas,width:e.width,height:e.height,ctx:e.ctx};u=n.init(e.ctx);console.log(u);d=t.init(e.ctx);f()},input:function(e){if(e===" "){m()}t.move(e)}}});