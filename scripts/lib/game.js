define(["./lib/snake","./lib/apple"],function(t,n){let i;let o;let e;let s=false;let c=true;let a=1;let d={};let l={};function r(){o.clearRect(0,0,i.width,i.height)}function p(){let e=t.draw();d.pos.x=e.x;d.pos.y=e.y;h();n.draw()}function m(){if(c){r();p()}window.requestAnimationFrame(m)}document.getElementById("reset").addEventListener("click",()=>{t.reset();e=n.destroy();l.pos=e.pos;s=e.eaten;a=1;document.getElementById("score").innerHTML=0});document.getElementById("pause").addEventListener("click",()=>{if(c){c=false;document.getElementById("pause").innerHTML="Resume"}else{c=true;document.getElementById("pause").innerHTML="Pause"}});const u=document.getElementById("munch");function f(){u.pause();u.currentTime=0;u.play()}function h(){if(l.pos.x<d.pos.x+d.width&&l.pos.x+l.width>d.pos.x&&l.pos.y<d.pos.y+d.height&&l.pos.y+l.height>d.pos.y){if(s===false){s=true}f();e=n.destroy();l.pos=e.pos;s=e.eaten;document.getElementById("score").innerHTML=a++}}return{init:function(e){o=e.ctx;i={canvas:e.canvas,width:e.width,height:e.height,ctx:e.ctx};l=n.init(e.ctx);console.log(l);d=t.init(e.ctx);m()},input:function(e){t.move(e)}}});