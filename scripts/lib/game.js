define(["./lib/snake","./lib/apple","./lib/audio"],function(t,n,i){let o;let s;let e;let l=false;let c=true;let u=1;let r=false;let d={};let a={};function p(){s.clearRect(0,0,o.width,o.height)}function f(){let e=t.draw();d.pos.x=e.x;d.pos.y=e.y;y();n.draw()}function m(){if(c){p();f()}window.requestAnimationFrame(m)}function h(){if(c){c=false;document.getElementById("pause").innerHTML="Resume"}else{c=true;document.getElementById("pause").innerHTML="Pause"}}document.getElementById("reset").addEventListener("click",()=>{t.reset();e=n.destroy();a.pos=e.pos;l=e.eaten;u=1;document.getElementById("score").innerHTML=0});document.getElementById("pause").addEventListener("click",()=>{h()});function y(){if(a.pos.x<d.pos.x+d.width&&a.pos.x+a.width>d.pos.x&&a.pos.y<d.pos.y+d.height&&a.pos.y+a.height>d.pos.y){if(l===false){l=true}i.play();e=n.destroy();a.pos=e.pos;l=e.eaten;document.getElementById("score").innerHTML=u++}}return{init:function(e){s=e.ctx;o={canvas:e.canvas,width:e.width,height:e.height,ctx:e.ctx};a=n.init(e.ctx);console.log(a);d=t.init(e.ctx);m();console.log("Game Script init loaded")},input:function(e){if(!r){r=true;i.init()}if(e===" "){h()}t.move(e)}}});